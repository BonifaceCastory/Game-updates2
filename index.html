<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="profile.png" type="image/png" >
    <title >My Game</title>
    <style>
        body{
            background-color: rgb(25,25,25);
            color: white;
            font-family: arial;
        }
        .game-icon{
            width: 50px;
            height: 50px;
        }.game-button{
            background-color: transparent;
            border: 3px solid white;
            height: 120px;
            width: 120px;
            border-radius: 60px;
            margin-right: 10px;
            cursor: pointer;
        }
        .results{
            font-size: 30px;
            font-weight: bold;
            margin-top: 25px;
        }
        .score{
            margin-top: 40px;
        }
        .reset-score-btn{
            background-color: white;
            border: none;
            font-size: 15px;
            padding: 5px;
            color: black;
        }
    </style>
</head>
<body>
    
    <div id="main">
        <h1>Rock Paper Scissor Game</h1>
        <p>Click the button to play the game</p>

    <button onclick="
    playerGame('rock');
    " class="game-button" ><img src="image/rock-emoji.png" class="game-icon" ></button>

    <button onclick="
    playerGame('paper');
    "class="game-button" ><img src="image/paper-emoji.png" class="game-icon" ></button>

    <button onclick="
      playerGame('scissor');
      " class="game-button" ><img src="image/scissor-emoji.png" class="game-icon" ></button>

<p class="p-result results "></p>

<p class="p-moves"></p>

<p class="js-score score "></p>


<button onclick="
  scores.wins = 0,
  scores.looses = 0,
  scores.ties = 0;

  localStorage.removeItem('scores');

  updateScore();

" class="reset-score-btn" > score reset</button>
      </div>
      
      <script>
        let scores = JSON.parse(localStorage.getItem('scores')) || {
            wins: 0,
            looses: 0,
            ties: 0
        }; //default operator.

        updateScore(); // update the score to the paragraph when the page loads
        // scores is set to the value of localStorage.getItem('scores') if it exists, otherwise it defaults to an object with wins, looses, and ties all set to 0. 

      /*  // shortcut (!scores)
        if(scores === null){
            scores = {
            wins: 0,
            looses: 0,
            ties: 0
        };
        }//these code works the same as the above
       */

        function playerGame(playerMove){ 
            
              const computerMove =  pickComputerMove(); // due to return the function is stored in a global variable under the help of scope

        // compare the move when the rock button is clicked with other moves
            let result = '';

            if (playerMove === 'scissor'){

            
            if(computerMove === 'rock') {
                result = 'you lose';
            }else if(computerMove === 'paper'){
                result = 'you win';
            }else if(computerMove === 'scissor'){
                result = 'tie';
            }

            }else if (playerMove === 'paper'){
                // compare the move when the rock button is clicked with other moves
            if(computerMove === 'rock') {
                result = 'you win';
            }else if(computerMove === 'paper'){
                result = 'tie';
            }else if(computerMove === 'scissor'){
                result = 'you lose';
            }

            }else if (playerMove === 'rock'){
            if(computerMove === 'rock') {
                result = 'tie';
            }else if(computerMove === 'paper'){
                result = 'you lose';
            }else if(computerMove === 'scissor'){
                result = 'you win';
            }
            }
            if(result === 'you win'){
                scores.wins += 1;
            }else if(result === 'you lose'){
                scores.looses += 1;
            }else if (result === 'tie'){
                scores.ties += 1;
            }

            localStorage.setItem('scores', JSON.stringify(scores));

            updateScore(); // update the score to the paragraph after each game 

            document.querySelector('.p-result').innerHTML = result;

            document.querySelector('.p-moves').innerHTML = ` You
    <img src="image/${playerMove}-emoji.png" class="game-icon">
    <img src="image/${computerMove}-emoji.png" class="game-icon">
    Computer`;

            
    
//alert( `You pick ${playerMove}. Computer picked ${computerMove}. ${result} the game.
//Wins:${scores.wins} Looses:${scores.looses} Ties:${scores.ties}`);
            
        }

        function updateScore() {
            document.querySelector('.js-score').innerHTML = `Wins: ${scores.wins} Looses: ${scores.looses} Ties: ${scores.ties}`; // display the score in the paragraph

        };

        // picking a computer move
        
        function pickComputerMove(){
             // computer selects random numbers and store in randomNumber and compare the moves

            const randomNumber = Math.random();
            let computerMove = '';
            
            if(randomNumber >= 0 && randomNumber < 1/3){
            computerMove = 'rock';
            }else if(randomNumber >= 1/3 && randomNumber < 2/3){
                computerMove = 'paper'; 
            }else if(randomNumber >= 2/3 && randomNumber < 1 ){
                computerMove = 'scissor';
            } // computerMove re-assigned
            return computerMove;
        }
    </script>
</body>

</html>
